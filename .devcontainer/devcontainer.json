{
  "name": "Laravel Dev Container",
  "dockerComposeFile": ["../compose.yaml"],
  "service": "app",
  "forwardPorts": [8080],
  "workspaceFolder": "/var/www/devcontainer-laravel/app",
  "customizations": {
    "vscode": {
      "settings": {
        "editor.tabSize": 2
      },
      "extensions": [
        "felixfbecker.php-intellisense",
        "bmewburn.vscode-intelephense-client"
      ]
    }
  },
  // "postCreateCommand": "composer install && cp .env.example .env && php artisan key:generate"
  // "postCreateCommand": "composer install && echo 'MY_SECRET_KEY=${{ secrets.MY_SECRET_KEY }}' > .env"
  // "postCreateCommand": "composer install && cp .env.example .env && sed -i 's/APP_KEY=.*/APP_KEY=${{ secrets.APP_KEY }}/' .env"
  "updateContentCommand": {
    "install packages": "composer install",
    "make .env": "cp .env.example .env",
    "set APP_KEY": "sed -i 's/APP_KEY=.*/APP_KEY=${{ secrets.APP_KEY }}/' .env"
  }
}
